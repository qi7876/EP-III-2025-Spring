#!/bin/bash

# ç”Ÿæˆ1-100çš„éšæœºæ•°
target=$((RANDOM % 100 + 1))
count=0

echo "ğŸ® çŒœæ•°å­—æ¸¸æˆå¼€å§‹ï¼"
echo "æˆ‘æœ‰ä¸€ä¸ª1åˆ°100ä¹‹é—´çš„æ•°å­—ï¼Œä½ èƒ½çŒœä¸­å—ï¼Ÿ"
echo "è¾“å…¥ q å¯ä»¥éšæ—¶é€€å‡ºæ¸¸æˆ"

while true; do
    read -p "â¡ï¸  è¯·è¾“å…¥ä½ çš„çŒœæµ‹ï¼ˆ1-100ï¼‰: " guess

    # é€€å‡ºæœºåˆ¶
    if [[ $guess == "q" ]]; then
        echo "ğŸ›‘ æ¸¸æˆå·²é€€å‡ºï¼Œæ­£ç¡®ç­”æ¡ˆæ˜¯ $target"
        exit 0
    fi

    # è¾“å…¥éªŒè¯
    if ! [[ $guess =~ ^[0-9]+$ ]]; then
        echo "âŒ é”™è¯¯ï¼šè¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—ï¼"
        continue
    fi

    if ((guess < 1 || guess > 100)); then
        echo "âš ï¸ æ³¨æ„ï¼šæ•°å­—å¿…é¡»åœ¨1åˆ°100ä¹‹é—´ï¼"
        continue
    fi

    # æœ‰æ•ˆçŒœæµ‹è®¡æ•°
    ((count++))

    # æ¯”è¾ƒé€»è¾‘
    if ((guess < target)); then
        echo "ğŸ“‰ å¤ªå°äº†ï¼å†è¯•ä¸€æ¬¡"
    elif ((guess > target)); then
        echo "ğŸ“ˆ å¤ªå¤§äº†ï¼å†è¯•ä¸€æ¬¡"
    else
        echo -e "\nğŸ‰ æ­å–œï¼ä½ åœ¨ $count æ¬¡å°è¯•åçŒœä¸­äº†æ­£ç¡®ç­”æ¡ˆ $targetï¼"
        exit 0
    fi
done
